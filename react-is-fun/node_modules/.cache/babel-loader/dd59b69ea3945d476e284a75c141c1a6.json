{"ast":null,"code":"var _jsxFileName = \"/Users/JMKerr/CodeNode2/react-is-fun/src/GameBoard.js\";\nimport React, { useState, Component } from 'react';\nimport { render } from 'react-dom';\nimport './GameBoard.css';\nimport ClueOuter from './ClueOuter';\nimport Spinner from './Loader';\nimport UserName from './UserName';\nimport ResultsModal from './ResultsModal';\nimport okaySfx from './sounds/okay.mp3';\nimport waterSfx from './sounds/water.mp3';\nimport treasureSfx from './sounds/treasure.mp3';\nimport gaspSfx from './sounds/gasp.mp3';\nimport rejectedSfx from './sounds/rejected.mp3';\nimport bombSfx from './sounds/bomb.mp3';\nimport sharkSfx from './sounds/jaws.mp3';\nimport squirtSfx from './sounds/squirt.mp3';\nimport UIfx from 'uifx';\nconst okaySound = new UIfx(okaySfx);\nokaySound.setVolume(0.4);\nconst waterSound = new UIfx(waterSfx);\nwaterSound.setVolume(0.6);\nconst treasureSound = new UIfx(treasureSfx);\ntreasureSound.setVolume(1.0);\nconst gaspSound = new UIfx(gaspSfx);\ngaspSound.setVolume(0.5);\nconst rejectedSound = new UIfx(rejectedSfx);\nrejectedSound.setVolume(0.7);\nconst bombSound = new UIfx(bombSfx);\nbombSound.setVolume(0.9);\nconst sharkSound = new UIfx(sharkSfx);\nsharkSound.setVolume(0.3);\nconst squirtSound = new UIfx(squirtSfx);\nsquirtSound.setVolume(0.7);\n\nfunction getRandomInt(min, max) {\n  var num = Math.floor(Math.random() * Math.floor(max));\n  console.log(\"getRandomInt: \" + min + \" and \" + max);\n  console.log(\"num :\" + num);\n\n  if (num >= min && num <= max) {\n    return num;\n  }\n\n  return 0;\n}\n\nclass GameBoard extends React.Component {\n  // localhost:5000\n  // const [currentRoundBeingPlayed, setCount] = useState(1);\n  constructor(props) {\n    super(props);\n    this.addressOfService = \"deepseaword.com\";\n\n    this.SendToScoringService = () => {\n      this.setState({\n        scoreLoading: true\n      });\n      let clueInfo = Array(7).fill(null);\n      clueInfo = this.state.clues.clues.map(item => item.significantClueInfo);\n      const formData = new FormData();\n      formData.append('GUID', this.state.clues.guid);\n      formData.append('userName', this.state.userName); //readme: replace 14 lines these with LOOPS!\n\n      formData.append('userGuesses[0]', this.state.userGuesses[0] != null ? this.state.userGuesses[0] : 'realnull');\n      formData.append('userGuesses[1]', this.state.userGuesses[1] != null ? this.state.userGuesses[1] : 'realnull');\n      formData.append('userGuesses[2]', this.state.userGuesses[2] != null ? this.state.userGuesses[2] : 'realnull');\n      formData.append('userGuesses[3]', this.state.userGuesses[3] != null ? this.state.userGuesses[3] : 'realnull');\n      formData.append('userGuesses[4]', this.state.userGuesses[4] != null ? this.state.userGuesses[4] : 'realnull');\n      formData.append('userGuesses[5]', this.state.userGuesses[5] != null ? this.state.userGuesses[5] : 'realnull');\n      formData.append('userGuesses[6]', this.state.userGuesses[6] != null ? this.state.userGuesses[6] : 'realnull');\n      formData.append('clueInfo[0]', clueInfo[0]);\n      formData.append('clueInfo[1]', clueInfo[1]);\n      formData.append('clueInfo[2]', clueInfo[2]);\n      formData.append('clueInfo[3]', clueInfo[3]);\n      formData.append('clueInfo[4]', clueInfo[4]);\n      formData.append('clueInfo[5]', clueInfo[5]);\n      formData.append('clueInfo[6]', clueInfo[6]);\n      formData.append('oxygenUsed', this.state.oxygenBottlesBought);\n      formData.append('isDead', this.state.roundTheyWereOnWhenTimerExpired != null); //http://deepseaworddotnetservice.azurewebsites.net\n\n      fetch('http://' + this.addressOfService + '/Entries/SubmitForScoring/', {\n        method: 'POST',\n        body: formData\n      }).then(response => response.json()).then(data => {\n        this.setState({\n          scoreLoading: false,\n          scoreData: data\n        });\n      });\n    };\n\n    this.handleReplay = () => {\n      this.componentDidMount();\n      fetchNewWord(); //this.render();\n    };\n\n    this.handleSoundOkay = () => {\n      okaySound.play();\n    };\n\n    this.handleResurfaceClick = thisRoundNumber => {\n      this.setState({\n        resurfaceClicked: true\n      });\n      this.setState({\n        showModal: true\n      });\n      this.SendToScoringService();\n    };\n\n    this.handleSubmitAndDiveClick = thisRoundNumber => {\n      //readme: checking the word is good before advancing\n      console.log(this.state.mineAppearsInRound);\n\n      if (this.state.initializeTimers[0] == null) {\n        alert(\"Please click the diver image to start the timer \\n  \");\n      } else if (this.state.roundTheyWereOnWhenTimerExpired != null) {\n        this.setState({\n          showModal: true\n        });\n        this.SendToScoringService();\n      } else {\n        this.checkWord(thisRoundNumber, this.state.userGuesses[thisRoundNumber - 1]);\n      }\n    };\n\n    this.handleDiverClick = thisRoundNumber => {\n      this.progressToNextRound(thisRoundNumber);\n    };\n\n    this.startTimer = thisRoundNumber => {\n      if (thisRoundNumber === 1 && this.state.gameStarted == 0) {\n        this.progressToNextRound(thisRoundNumber);\n      }\n    };\n\n    this.handleOxygenClick = thisRoundNumber => {\n      gaspSound.play(); //readme: not sure if I'll want to count which round the oxygen was used in, might leave param there til i decide\n\n      let oxygenBottlesBoughtNew = this.state.oxygenBottlesBought + 1;\n      this.setState({\n        oxygenBottlesBought: oxygenBottlesBoughtNew\n      });\n    };\n\n    this.handleChangeUserGuess = (userGuess, i, key) => {\n      console.log(\"key was :\" + key);\n      const userGuessesCopy = this.state.userGuesses.slice();\n      userGuessesCopy[i - 1] = userGuess.trim().toUpperCase();\n      this.setState({\n        userGuesses: userGuessesCopy\n      });\n\n      if (key == \"Enter\") {\n        // readme: they pressed enter, assume they want to trigger a SubmitAndDive\n        this.handleSubmitAndDiveClick(i);\n      }\n    };\n\n    this.handleEnterUserName = (theirUserName, key) => {\n      //console.log(\"key was :\" + key);\n      if (key == \"Enter\" && theirUserName.trim().length > 0) {\n        this.setState({\n          userName: theirUserName\n        });\n        this.fetchNewWord();\n      }\n    };\n\n    this.fetchNewWord = () => {\n      fetch('http://' + this.addressOfService + '/Entries/GetWordWithClues?userName=' + this.state.userName).then(res => res.json()).then(data => {\n        this.setState({\n          clues: data,\n          isLoadingPage: false\n        });\n      }).catch(console.log);\n    };\n\n    this.handleHighScoreDisplay = () => {\n      this.setState({\n        showModal: true\n      });\n      fetch('http://' + this.addressOfService + '/Entries/GetHighScores').then(res => res.json()).then(data => {\n        this.setState({\n          highScoreData: data\n        });\n      }).catch(console.log);\n    };\n\n    this.handleHighScoreHide = () => {\n      this.setState({\n        showModal: false,\n        highScoreMode: 0\n      });\n    };\n\n    this.handleTimerRanOut = i => {\n      this.setState({\n        roundTheyWereOnWhenTimerExpired: i\n      }); //todo: drown him!\n    };\n\n    this.state = {\n      userGuesses: Array(7).fill(null),\n      currentRound: 1,\n      oxygenBottlesBought: 0,\n      oxygenBottlesApplied: 0,\n      initializeTimers: Array(7).fill(null),\n      clues: null,\n      roundTheyWereOnWhenTimerExpired: null,\n      isLoadingPage: true,\n      wordLookupFeedbackMessages: Array(7).fill(null),\n      userName: \"\",\n      showModal: false,\n      dictionaryCheckInProgress: false,\n      scoreData: null,\n      scoreLoading: false,\n      resurfaceClicked: false,\n      highScoreData: null,\n      foundTreasureInRound: null,\n      sharkAppearsInRound: getRandomInt(1, 4),\n      squidAppearsInRound: getRandomInt(5, 7),\n      mineAppearsInRound: getRandomInt(6, 8),\n      gameStarted: 0\n    };\n  }\n\n  updateWordFeedback(thisRoundNumber, message) {\n    const wordLookupFeedbackMessagesCopy = this.state.wordLookupFeedbackMessages.slice();\n    wordLookupFeedbackMessagesCopy[thisRoundNumber - 1] = message;\n    this.setState({\n      wordLookupFeedbackMessages: wordLookupFeedbackMessagesCopy\n    });\n  } // readme: very important function!\n\n\n  checkWord(thisRoundNumber, userGuess) {\n    //console.log(thisRoundNumber + \" checkWord : \" +userGuess )\n    this.updateWordFeedback(thisRoundNumber, 'Checking dictionary...');\n    userGuess = userGuess.trim().toUpperCase();\n\n    if (userGuess == \"\" || userGuess == null) {\n      this.updateWordFeedback(thisRoundNumber, 'Enter word then Submit and Dive');\n      rejectedSound.play();\n      return false;\n    } // readme : they have already used this word on prev round\n    // and the +1 because the array is indexed at 0.\n\n\n    if (this.state.userGuesses.indexOf(userGuess) > -1 && parseInt(this.state.userGuesses.indexOf(userGuess) + 1) < thisRoundNumber) {\n      this.updateWordFeedback(thisRoundNumber, 'Can\\'t use that word again!');\n      rejectedSound.play();\n      return false;\n    }\n\n    if (this.state.dictionaryCheckInProgress) {\n      this.updateWordFeedback(thisRoundNumber, 'Double-clickers will be left behind!');\n      rejectedSound.play();\n      return false;\n    }\n\n    this.setState({\n      dictionaryCheckInProgress: true\n    }); //https://deepseaworddotnetservice.azurewebsites.net/Entries\n\n    fetch('http://' + this.addressOfService + '/Entries/LookupWord?word=' + userGuess).then(res => res.json()).then(data => {\n      //this.setState({ clues: data })\n      if (data != null) {\n        console.log('word def:' + data.definition); // readme: word was a real word.\n\n        this.updateWordFeedback(thisRoundNumber, 'Found in dictionary.'); //console.log(userGuess.trim().toUpperCase() + \" ? \" + this.state.clues.temporaryWord.trim().toUpperCase());\n\n        if (userGuess.trim().toUpperCase() == this.state.clues.temporaryWord.trim().toUpperCase()) {\n          treasureSound.play();\n          this.setState({\n            foundTreasureInRound: thisRoundNumber\n          });\n          this.updateWordFeedback(thisRoundNumber, 'Great! Keep going - valid words earn $$');\n        } else {\n          okaySound.play(); //this.handleSoundOkay();\n        }\n\n        this.setState({\n          currentRound: thisRoundNumber + 1\n        });\n\n        if (thisRoundNumber < 7) {\n          this.handleDiverClick(thisRoundNumber + 1);\n        } else {\n          //readme: kick-off the completion code.\n          //perform scoring and open lightbox to display response to that?\n          this.setState({\n            showModal: true\n          });\n          this.SendToScoringService();\n        }\n      } else {\n        if (this.state.mineAppearsInRound == thisRoundNumber) {\n          bombSound.play();\n          this.updateWordFeedback(thisRoundNumber, 'NOT found - mine exploded!');\n          this.setState({\n            roundTheyWereOnWhenTimerExpired: thisRoundNumber\n          });\n        } else {\n          this.updateWordFeedback(thisRoundNumber, 'NOT found - try another!');\n          rejectedSound.play();\n        }\n      }\n\n      this.setState({\n        dictionaryCheckInProgress: false\n      });\n    }).catch(error => {\n      console.log(error);\n      this.updateWordFeedback(thisRoundNumber, 'Apparatus failure. Try again');\n    });\n  }\n\n  progressToNextRound(thisRoundNumber) {\n    //console.log(\"url :\" + window.location.search);\n    this.setState({\n      gameStarted: 1\n    });\n    if (thisRoundNumber === 1) waterSound.play(); //console.log(\"thisROundNum : \" + thisRoundNumber + \" sk : \" + this.state.sharkAppearsInRound);\n\n    if (thisRoundNumber === this.state.sharkAppearsInRound) sharkSound.play();\n    if (thisRoundNumber === this.state.squidAppearsInRound) squirtSound.play(); //alert('Clicked on diver' + thisRoundNumber);\n\n    const initializeTimersCopy = this.state.initializeTimers.slice(); // readme: timer has been initialized\n\n    initializeTimersCopy[thisRoundNumber - 1] = 1;\n    this.setState({\n      initializeTimers: initializeTimersCopy\n    });\n  }\n\n  componentDidMount() {\n    // readme: resets all state except username and then fetch a new word\n    this.setState({\n      userGuesses: Array(7).fill(null),\n      currentRound: 1,\n      oxygenBottlesBought: 0,\n      oxygenBottlesApplied: 0,\n      initializeTimers: Array(7).fill(null),\n      clues: null,\n      roundTheyWereOnWhenTimerExpired: null,\n      isLoadingPage: true,\n      wordLookupFeedbackMessages: Array(7).fill(null),\n      showModal: false,\n      dictionaryCheckInProgress: false,\n      scoreData: null,\n      scoreLoading: false,\n      resurfaceClicked: false,\n      highScoreData: null,\n      foundTreasureInRound: null,\n      sharkAppearsInRound: getRandomInt(1, 4),\n      squidAppearsInRound: getRandomInt(5, 7),\n      mineAppearsInRound: getRandomInt(6, 8),\n      gameStarted: 0 //userName: \"\"\n\n    });\n  }\n\n  render() {\n    // let clues = GetJson();\n    // let parsedClues = JSON.parse(clues);\n    let parsedClues = this.state.clues; // console.log(parsedClues);\n    // console.log(\" and \")\n    // console.log(parsedClues2);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"background center-screen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"TitleBar\",\n      style: titleStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }\n    }, \"DeepSeaWord\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: creditStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }\n    }, \"by Chris Kerr\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"GameBoard\",\n      style: instructionsStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      style: {\n        color: \"gold\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n        paddingRight: \"15px\"\n      },\n      onClick: this.handleHighScoreDisplay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 21\n      }\n    }, \"High Scores\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      style: {\n        color: \"coral\",\n        fontWeight: \"bold\",\n        textAlign: \"right\",\n        paddingLeft: \"15px\"\n      },\n      onClick: this.handleHighScoreDisplay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 21\n      }\n    }, \"Dive School\"), this.state.isLoadingPage || this.state.userName == \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 78\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 83\n      }\n    }), /*#__PURE__*/React.createElement(UserName, {\n      userName: this.state.userName,\n      changeUserName: this.handleEnterUserName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 93\n      }\n    })) : this.renderClues(parsedClues), this.renderScore()));\n  }\n\n  renderScore() {\n    console.log(\"renderScore(scoreData)\");\n\n    if (this.state.clues == null) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(ResultsModal, {\n      highScoreData: this.state.highScoreData,\n      isDead: this.state.roundTheyWereOnWhenTimerExpired != null,\n      clues: this.state.clues.clues,\n      scoreData: this.state.scoreData,\n      userGuesses: this.state.userGuesses,\n      oxygenBottlesUsed: this.state.oxygenBottlesBought,\n      showModal: this.state.showModal,\n      handleReplay: this.handleReplay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 19\n      }\n    });\n  }\n\n  renderClues(parsedClues) {\n    let rows = [];\n    var x = parsedClues;\n\n    if (x != null) {\n      //console.log(x.clues[0]);\n      for (var i = 1; i < parsedClues.clues.length + 1; i++) {\n        rows.push(this.renderClue(i, parsedClues.clues[i - 1]));\n      }\n    }\n\n    return rows;\n  }\n\n  renderClue(i, clue) {\n    return (\n      /*#__PURE__*/\n      //readme: wonder at what point its an antipattern to pass so much down.\n      React.createElement(ClueOuter, {\n        style: style,\n        clue: clue,\n        key: i,\n        userGuess: this.state.userGuesses[i - 1],\n        onClick: this.handleSubmitAndDiveClick,\n        onClickResurface: this.handleResurfaceClick,\n        onClickOxygen: this.handleOxygenClick,\n        changeUserGuess: this.handleChangeUserGuess,\n        currentRoundBeingPlayed: this.state.currentRound,\n        initializeTimers: this.state.initializeTimers,\n        onDiverClick: this.handleDiverClick,\n        oxygenBottlesBought: this.state.oxygenBottlesBought,\n        oxygenBottlesApplied: this.state.oxygenBottlesApplied,\n        timerRanOut: this.handleTimerRanOut,\n        roundTheyWereOnWhenTimerExpired: this.state.roundTheyWereOnWhenTimerExpired,\n        wordLookupFeedbackMessages: this.state.wordLookupFeedbackMessages,\n        resurfaceClicked: this.state.resurfaceClicked,\n        foundTreasureInRound: this.state.foundTreasureInRound,\n        sharkAppearsInRound: this.state.sharkAppearsInRound,\n        mineAppearsInRound: this.state.mineAppearsInRound,\n        squidAppearsInRound: this.state.squidAppearsInRound,\n        startTimer: this.startTimer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 17\n        }\n      })\n    );\n  }\n\n}\n\nvar instructionsStyle = {\n  //backgroundColor: 'lightblue',\n  color: 'white',\n  // readme: hehe 'Arial', get it?\n  fontFamily: 'Helvetica,Arial',\n  fontSize: '13px',\n  // margin: '20px 200px 40px 200px',\n  padding: '2px',\n  textAlign: 'center' // readme: better on mobile if no % here\n  // width: '60%'\n\n};\nvar style = {\n  backgroundColor: 'lightblue',\n  color: 'darkblue',\n  // readme: hehe 'Arial', get it?\n  fontFamily: 'Helvetica,Arial',\n  fontSize: '12px',\n  // margin: '20px 200px 40px 200px',\n  padding: '20px',\n  textAlign: 'left'\n};\nvar creditStyle = {\n  //backgroundColor: 'lightblue',\n  color: 'gold',\n  fontFamily: 'Cochin',\n  fontSize: '11px',\n  textAlign: 'Center',\n  top: '0px'\n};\nvar titleStyle = {\n  //backgroundColor: 'lightblue',\n  color: 'yellow',\n  fontFamily: 'Phosphate,Impact,Helvetica,Arial',\n  fontSize: '45px',\n  textAlign: 'Center',\n  top: '0px'\n};\nexport default GameBoard;","map":{"version":3,"sources":["/Users/JMKerr/CodeNode2/react-is-fun/src/GameBoard.js"],"names":["React","useState","Component","render","ClueOuter","Spinner","UserName","ResultsModal","okaySfx","waterSfx","treasureSfx","gaspSfx","rejectedSfx","bombSfx","sharkSfx","squirtSfx","UIfx","okaySound","setVolume","waterSound","treasureSound","gaspSound","rejectedSound","bombSound","sharkSound","squirtSound","getRandomInt","min","max","num","Math","floor","random","console","log","GameBoard","constructor","props","addressOfService","SendToScoringService","setState","scoreLoading","clueInfo","Array","fill","state","clues","map","item","significantClueInfo","formData","FormData","append","guid","userName","userGuesses","oxygenBottlesBought","roundTheyWereOnWhenTimerExpired","fetch","method","body","then","response","json","data","scoreData","handleReplay","componentDidMount","fetchNewWord","handleSoundOkay","play","handleResurfaceClick","thisRoundNumber","resurfaceClicked","showModal","handleSubmitAndDiveClick","mineAppearsInRound","initializeTimers","alert","checkWord","handleDiverClick","progressToNextRound","startTimer","gameStarted","handleOxygenClick","oxygenBottlesBoughtNew","handleChangeUserGuess","userGuess","i","key","userGuessesCopy","slice","trim","toUpperCase","handleEnterUserName","theirUserName","length","res","isLoadingPage","catch","handleHighScoreDisplay","highScoreData","handleHighScoreHide","highScoreMode","handleTimerRanOut","currentRound","oxygenBottlesApplied","wordLookupFeedbackMessages","dictionaryCheckInProgress","foundTreasureInRound","sharkAppearsInRound","squidAppearsInRound","updateWordFeedback","message","wordLookupFeedbackMessagesCopy","indexOf","parseInt","definition","temporaryWord","error","initializeTimersCopy","parsedClues","titleStyle","creditStyle","instructionsStyle","color","fontWeight","textAlign","paddingRight","paddingLeft","renderClues","renderScore","rows","x","push","renderClue","clue","style","fontFamily","fontSize","padding","backgroundColor","top"],"mappings":"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","sourcesContent":["import React, {useState, Component} from 'react';\nimport {render} from 'react-dom';\nimport './GameBoard.css';\nimport ClueOuter from './ClueOuter';\nimport Spinner from './Loader';\nimport UserName from './UserName';\nimport ResultsModal from './ResultsModal';\nimport okaySfx from './sounds/okay.mp3'; \nimport waterSfx from './sounds/water.mp3'; \nimport treasureSfx from './sounds/treasure.mp3'; \nimport gaspSfx from './sounds/gasp.mp3'; \nimport rejectedSfx from './sounds/rejected.mp3';\nimport bombSfx from './sounds/bomb.mp3';\nimport sharkSfx from './sounds/jaws.mp3';\nimport squirtSfx from './sounds/squirt.mp3'; \nimport UIfx from 'uifx';\n\nconst okaySound = new UIfx(okaySfx);\nokaySound.setVolume(0.4);\nconst waterSound = new UIfx(waterSfx);\nwaterSound.setVolume(0.6);\nconst treasureSound = new UIfx(treasureSfx);\ntreasureSound.setVolume(1.0);\nconst gaspSound = new UIfx(gaspSfx);\ngaspSound.setVolume(0.5);\nconst rejectedSound = new UIfx(rejectedSfx);\nrejectedSound.setVolume(0.7);\nconst bombSound = new UIfx(bombSfx);\nbombSound.setVolume(0.9);\nconst sharkSound = new UIfx(sharkSfx);\nsharkSound.setVolume(0.3);\nconst squirtSound = new UIfx(squirtSfx);\nsquirtSound.setVolume(0.7);\n\nfunction getRandomInt(min, max) {\n  var num = Math.floor(Math.random() * Math.floor(max));\n  console.log(\"getRandomInt: \" + min + \" and \" + max);\n  console.log(\"num :\" + num);\n  if(num >= min && num <= max)\n  {\n    return num;\n  }\n  return 0;\n}\n\nclass GameBoard extends React.Component\n{\n    addressOfService = \"deepseaword.com\"; // localhost:5000\n    // const [currentRoundBeingPlayed, setCount] = useState(1);\n    constructor(props) {\n        super(props);\n        this.state = {\n          userGuesses: Array(7).fill(null),\n          currentRound: 1,\n          oxygenBottlesBought: 0,\n          oxygenBottlesApplied: 0,\n          initializeTimers: Array(7).fill(null),\n          clues: null,\n          roundTheyWereOnWhenTimerExpired: null,\n          isLoadingPage: true,\n          wordLookupFeedbackMessages: Array(7).fill(null),\n          userName: \"\",\n          showModal: false,\n          dictionaryCheckInProgress: false,\n          scoreData: null,\n          scoreLoading: false,\n          resurfaceClicked: false,\n          highScoreData: null,\n          foundTreasureInRound: null,\n          sharkAppearsInRound: getRandomInt(1,4),\n          squidAppearsInRound: getRandomInt(5,7),\n          mineAppearsInRound: getRandomInt(6,8),\n          gameStarted: 0\n        };\n      }\n\n     updateWordFeedback(thisRoundNumber, message){\n      const wordLookupFeedbackMessagesCopy = this.state.wordLookupFeedbackMessages.slice();\n      wordLookupFeedbackMessagesCopy[thisRoundNumber-1] = message;\n      this.setState({wordLookupFeedbackMessages : wordLookupFeedbackMessagesCopy})\n     }\n    \n     // readme: very important function!\n     checkWord(thisRoundNumber,userGuess){\n      //console.log(thisRoundNumber + \" checkWord : \" +userGuess )\n      this.updateWordFeedback(thisRoundNumber,'Checking dictionary...');\n      userGuess = userGuess.trim().toUpperCase();\n\n      if(userGuess == \"\" || userGuess == null)\n      {\n        this.updateWordFeedback(thisRoundNumber,'Enter word then Submit and Dive');\n        rejectedSound.play();\n        return false;\n      }\n\n      // readme : they have already used this word on prev round\n      // and the +1 because the array is indexed at 0.\n      if(this.state.userGuesses.indexOf(userGuess) > -1 && parseInt(this.state.userGuesses.indexOf(userGuess) + 1) < thisRoundNumber)\n      {\n        this.updateWordFeedback(thisRoundNumber,'Can\\'t use that word again!');\n        rejectedSound.play();\n        return false;\n      }\n\n      if(this.state.dictionaryCheckInProgress)\n      {\n        this.updateWordFeedback(thisRoundNumber,'Double-clickers will be left behind!');\n        rejectedSound.play();\n        return false;\n      }\n\n      this.setState({dictionaryCheckInProgress: true}); \n      //https://deepseaworddotnetservice.azurewebsites.net/Entries\n      fetch('http://' + this.addressOfService + '/Entries/LookupWord?word=' + userGuess)\n        .then(res => res.json())\n        .then((data) => {\n          //this.setState({ clues: data })\n          if(data != null)\n          {\n            console.log('word def:' + data.definition);\n            // readme: word was a real word.\n            this.updateWordFeedback(thisRoundNumber,'Found in dictionary.');\n            //console.log(userGuess.trim().toUpperCase() + \" ? \" + this.state.clues.temporaryWord.trim().toUpperCase());\n            if(userGuess.trim().toUpperCase() == this.state.clues.temporaryWord.trim().toUpperCase())\n            {\n              treasureSound.play();\n              this.setState({foundTreasureInRound:thisRoundNumber })\n              this.updateWordFeedback(thisRoundNumber,'Great! Keep going - valid words earn $$');\n            }\n            else\n            {\n              okaySound.play();\n              //this.handleSoundOkay();\n            }\n            this.setState({currentRound: thisRoundNumber+1});\n\n            if(thisRoundNumber < 7)\n            {\n              this.handleDiverClick(thisRoundNumber+1);\n            }\n            else\n            {\n              //readme: kick-off the completion code.\n              //perform scoring and open lightbox to display response to that?\n              this.setState({showModal: true});\n              this.SendToScoringService();  \n            }\n          }\n          else\n          {\n            if(this.state.mineAppearsInRound == thisRoundNumber){\n              bombSound.play();\n              this.updateWordFeedback(thisRoundNumber,'NOT found - mine exploded!');\n              this.setState({roundTheyWereOnWhenTimerExpired: thisRoundNumber}); \n            }\n            else{\n              this.updateWordFeedback(thisRoundNumber,'NOT found - try another!');\n              rejectedSound.play();\n            }     \n          }\n\n          this.setState({dictionaryCheckInProgress: false}); \n\n      })\n      .catch( (error)=>\n      {\n        console.log(error);\n        this.updateWordFeedback(thisRoundNumber,'Apparatus failure. Try again')\n      });\n    }\n\n    SendToScoringService = () => {\n\n              this.setState({scoreLoading: true});\n              let clueInfo = Array(7).fill(null);\n              clueInfo = this.state.clues.clues.map(item => item.significantClueInfo)\n\n              const formData = new FormData();\n\n              formData.append('GUID', this.state.clues.guid);\n              formData.append('userName', this.state.userName);\n              //readme: replace 14 lines these with LOOPS!\n              formData.append('userGuesses[0]', (this.state.userGuesses[0] != null ? this.state.userGuesses[0] : 'realnull' ));\n              formData.append('userGuesses[1]', (this.state.userGuesses[1] != null ? this.state.userGuesses[1] : 'realnull' ));\n              formData.append('userGuesses[2]', (this.state.userGuesses[2] != null ? this.state.userGuesses[2] : 'realnull' ));\n              formData.append('userGuesses[3]', (this.state.userGuesses[3] != null ? this.state.userGuesses[3] : 'realnull' ));\n              formData.append('userGuesses[4]', (this.state.userGuesses[4] != null ? this.state.userGuesses[4] : 'realnull' ));\n              formData.append('userGuesses[5]', (this.state.userGuesses[5] != null ? this.state.userGuesses[5] : 'realnull' ));\n              formData.append('userGuesses[6]', (this.state.userGuesses[6] != null ? this.state.userGuesses[6] : 'realnull' ));\n              formData.append('clueInfo[0]', clueInfo[0]);\n              formData.append('clueInfo[1]', clueInfo[1]);\n              formData.append('clueInfo[2]', clueInfo[2]);\n              formData.append('clueInfo[3]', clueInfo[3]);\n              formData.append('clueInfo[4]', clueInfo[4]);\n              formData.append('clueInfo[5]', clueInfo[5]);\n              formData.append('clueInfo[6]', clueInfo[6]);\n              formData.append('oxygenUsed', this.state.oxygenBottlesBought);\n              formData.append('isDead', this.state.roundTheyWereOnWhenTimerExpired != null)\n\n              //http://deepseaworddotnetservice.azurewebsites.net\n              fetch('http://' + this.addressOfService + '/Entries/SubmitForScoring/', {\n                    method: 'POST',\n                    body: formData\n                  })\n                  .then(response => response.json())\n                  .then(data => {\n\n                    this.setState({scoreLoading: false, scoreData: data});\n\n                  });\n\n    }\n\n    handleReplay = () => {\n      this.componentDidMount()\n      fetchNewWord()\n      //this.render();\n    }\n\n    handleSoundOkay = () => {\n      okaySound.play()\n    }\n\n    handleResurfaceClick = (thisRoundNumber) =>{\n      this.setState({resurfaceClicked: true});\n      this.setState({showModal: true});\n      this.SendToScoringService();  \n    }\n\n    handleSubmitAndDiveClick = (thisRoundNumber) => {\n      //readme: checking the word is good before advancing\n        console.log(this.state.mineAppearsInRound);\n        if(this.state.initializeTimers[0] == null)\n        {\n          alert(\"Please click the diver image to start the timer \\n  \");\n        }\n        else if(this.state.roundTheyWereOnWhenTimerExpired != null)\n        {\n          this.setState({showModal: true});\n          this.SendToScoringService();  \n        }\n        else\n        {\n          this.checkWord(thisRoundNumber, this.state.userGuesses[thisRoundNumber-1]);\n        }\n    };\n\n      // readme: is really a \"move to next round\" function - believed to only be possible to trigger once per round\n      // so doesn't have any protection to prevent multiple calls to it.\n      handleDiverClick = (thisRoundNumber) =>{\n        this.progressToNextRound(thisRoundNumber);\n      }\n\n      // readme: basically init the first timer, triggered by OnFocus on first word, so might (accidentally) be triggered many times\n      // hence need for \"gameStarted\" to ensure only first time does something.\n      startTimer = (thisRoundNumber) =>{\n        if(thisRoundNumber===1 && this.state.gameStarted == 0) {\n          this.progressToNextRound(thisRoundNumber);\n        }\n      }\n\n      progressToNextRound(thisRoundNumber){\n        //console.log(\"url :\" + window.location.search);\n        this.setState({gameStarted : 1})\n        if(thisRoundNumber===1) waterSound.play();\n        //console.log(\"thisROundNum : \" + thisRoundNumber + \" sk : \" + this.state.sharkAppearsInRound);\n        if(thisRoundNumber === this.state.sharkAppearsInRound) sharkSound.play();\n        if(thisRoundNumber === this.state.squidAppearsInRound) squirtSound.play();\n          //alert('Clicked on diver' + thisRoundNumber);\n          const initializeTimersCopy = this.state.initializeTimers.slice();\n          // readme: timer has been initialized\n          initializeTimersCopy[thisRoundNumber-1] = 1;\n          this.setState({initializeTimers : initializeTimersCopy})\n          \n      }\n\n      handleOxygenClick = (thisRoundNumber) => {\n        gaspSound.play();\n        //readme: not sure if I'll want to count which round the oxygen was used in, might leave param there til i decide\n        let oxygenBottlesBoughtNew = this.state.oxygenBottlesBought + 1;\n        this.setState({oxygenBottlesBought: oxygenBottlesBoughtNew});\n      };\n      \n    //readme: this is an example of 2 pieces of info being returned to the parent from a child so we can update the state\n      handleChangeUserGuess = (userGuess,i, key) => {\n        console.log(\"key was :\" + key);\n\n        const userGuessesCopy = this.state.userGuesses.slice();\n        userGuessesCopy[i-1] = userGuess.trim().toUpperCase();\n        this.setState({userGuesses: userGuessesCopy});\n          \n        if(key == \"Enter\")\n        {\n          // readme: they pressed enter, assume they want to trigger a SubmitAndDive\n          this.handleSubmitAndDiveClick(i);\n        }\n     }\n\n     handleEnterUserName = (theirUserName, key) => {\n       //console.log(\"key was :\" + key);\n       if(key == \"Enter\" && theirUserName.trim().length > 0)\n       {\n        this.setState({userName: theirUserName});\n        this.fetchNewWord();\n      }\n     }\n\n     fetchNewWord = () => {\n        fetch('http://' + this.addressOfService + '/Entries/GetWordWithClues?userName=' + this.state.userName)\n        .then(res => res.json())\n        .then((data) => {\n          this.setState({ clues: data, isLoadingPage: false })\n        })\n        .catch(console.log)\n     }\n\n     handleHighScoreDisplay = () =>{\n      this.setState({showModal: true});\n\n          fetch('http://' + this.addressOfService + '/Entries/GetHighScores')\n          .then(res => res.json())\n          .then((data) => {\n            this.setState({ highScoreData: data})\n        })\n        .catch(console.log)\n     }\n\n     handleHighScoreHide = () =>{\n      this.setState({showModal: false, highScoreMode: 0});\n     }\n\n     handleTimerRanOut = (i) => {\n        this.setState({roundTheyWereOnWhenTimerExpired: i})\n        //todo: drown him!\n     }\n\n     componentDidMount() {\n       // readme: resets all state except username and then fetch a new word\n      this.setState({\n        userGuesses: Array(7).fill(null),\n        currentRound: 1,\n        oxygenBottlesBought: 0,\n        oxygenBottlesApplied: 0,\n        initializeTimers: Array(7).fill(null),\n        clues: null,\n        roundTheyWereOnWhenTimerExpired: null,\n        isLoadingPage: true,\n        wordLookupFeedbackMessages: Array(7).fill(null),\n        showModal: false,\n        dictionaryCheckInProgress: false,\n        scoreData: null,\n        scoreLoading: false,\n        resurfaceClicked: false,\n        highScoreData: null,\n        foundTreasureInRound : null,\n        sharkAppearsInRound: getRandomInt(1,4),\n        squidAppearsInRound: getRandomInt(5,7),\n        mineAppearsInRound: getRandomInt(6,8),\n        gameStarted: 0\n        //userName: \"\"\n      });\n    }\n\n\n      render()\n      {\n        // let clues = GetJson();\n        // let parsedClues = JSON.parse(clues);\n        let parsedClues = this.state.clues; \n        // console.log(parsedClues);\n        // console.log(\" and \")\n        // console.log(parsedClues2);\n        return (\n            <div className=\"background center-screen\">\n                <div className='TitleBar' style={titleStyle}>\n                    DeepSeaWord                  \n                </div>\n                <div style={creditStyle}>\n                    by Chris Kerr               \n                </div>\n                <div className='GameBoard' style={instructionsStyle}>\n                    <a href=\"#\" style={{color:\"gold\", fontWeight: \"bold\", textAlign:\"left\", paddingRight:\"15px\"}} onClick={this.handleHighScoreDisplay} >High Scores</a>\n                    &nbsp;\n                    <a href=\"#\" style={{color:\"coral\", fontWeight: \"bold\", textAlign:\"right\", paddingLeft:\"15px\"}} onClick={this.handleHighScoreDisplay} >Dive School</a>\n                    {this.state.isLoadingPage || this.state.userName == \"\" ? <div><Spinner/><UserName userName={this.state.userName} changeUserName={this.handleEnterUserName}/></div>  : this.renderClues(parsedClues)}\n                    {this.renderScore()}\n                </div>\n   \n            </div>\n            )\n        }\n        renderScore()\n        {\n          console.log(\"renderScore(scoreData)\");\n          \n          if (this.state.clues == null)\n          {\n            return null;\n          }\n\n          return(\n              \n                  <ResultsModal highScoreData={this.state.highScoreData} isDead={this.state.roundTheyWereOnWhenTimerExpired != null} clues={this.state.clues.clues} scoreData={this.state.scoreData} userGuesses={this.state.userGuesses} oxygenBottlesUsed={this.state.oxygenBottlesBought} showModal={this.state.showModal} handleReplay={this.handleReplay}/>\n              \n          );\n        }\n\n        renderClues(parsedClues)\n        {\n            let rows = [];\n            var x = parsedClues;\n            if(x != null)\n            {\n              //console.log(x.clues[0]);\n            \n              for(var i = 1; i < parsedClues.clues.length + 1; i++){\n                  rows.push(this.renderClue(i, parsedClues.clues[i-1]));  \n              }\n            }\n\n            return rows;\n        }\n\n        renderClue(i, clue)\n        {\n            return (\n                //readme: wonder at what point its an antipattern to pass so much down.\n                <ClueOuter \n                    style={style} \n                    clue={clue} \n                    key={i} \n                    userGuess={this.state.userGuesses[i-1]} \n                    onClick={this.handleSubmitAndDiveClick} \n                    onClickResurface={this.handleResurfaceClick} \n                    onClickOxygen={this.handleOxygenClick} \n                    changeUserGuess={this.handleChangeUserGuess} \n                    currentRoundBeingPlayed={this.state.currentRound}\n                    initializeTimers={this.state.initializeTimers}\n                    onDiverClick={this.handleDiverClick}\n                    oxygenBottlesBought={this.state.oxygenBottlesBought} \n                    oxygenBottlesApplied={this.state.oxygenBottlesApplied}\n                    timerRanOut={this.handleTimerRanOut}\n                    roundTheyWereOnWhenTimerExpired={this.state.roundTheyWereOnWhenTimerExpired}\n                    wordLookupFeedbackMessages={this.state.wordLookupFeedbackMessages}    \n                    resurfaceClicked={this.state.resurfaceClicked}       \n                    foundTreasureInRound={this.state.foundTreasureInRound}   \n                    sharkAppearsInRound={this.state.sharkAppearsInRound}\n                    mineAppearsInRound={this.state.mineAppearsInRound}  \n                    squidAppearsInRound={this.state.squidAppearsInRound}  \n                    startTimer={this.startTimer}\n                    />   \n            );\n        }\n}\n\nvar instructionsStyle = {\n    //backgroundColor: 'lightblue',\n    color: 'white',\n    // readme: hehe 'Arial', get it?\n    fontFamily: 'Helvetica,Arial',\n    fontSize: '13px',\n    // margin: '20px 200px 40px 200px',\n    padding: '2px',\n\n    textAlign: 'center',\n    // readme: better on mobile if no % here\n    // width: '60%'\n}\n\nvar style = {\n    backgroundColor: 'lightblue',\n    color: 'darkblue',\n    // readme: hehe 'Arial', get it?\n    fontFamily: 'Helvetica,Arial',\n    fontSize: '12px',\n    // margin: '20px 200px 40px 200px',\n    padding: '20px',\n    textAlign: 'left'\n  }\n\n  var creditStyle = {\n    //backgroundColor: 'lightblue',\n    color: 'gold',\n    fontFamily: 'Cochin',\n    fontSize: '11px',\n    textAlign: 'Center',\n    top: '0px'\n  }\n\n\nvar titleStyle = {\n    //backgroundColor: 'lightblue',\n    color: 'yellow',\n    fontFamily: 'Phosphate,Impact,Helvetica,Arial',\n    fontSize: '45px',\n    textAlign: 'Center',\n    top: '0px'\n  }\n\n\nexport default GameBoard;\n"]},"metadata":{},"sourceType":"module"}